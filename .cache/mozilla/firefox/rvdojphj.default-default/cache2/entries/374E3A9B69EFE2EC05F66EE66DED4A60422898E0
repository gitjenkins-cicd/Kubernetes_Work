/*!
 * jQuery.selection - jQuery Plugin
 *
 * Copyright (c) 2010-2014 IWASAKI Koji (@madapaja).
 * http://blog.madapaja.net/
 * Under The MIT License
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
(function($, win, doc) {
    /**
     * get caret status of the selection of the element
     *
     * @param   {Element}   element         target DOM element
     * @return  {Object}    return
     * @return  {String}    return.text     selected text
     * @return  {Number}    return.start    start position of the selection
     * @return  {Number}    return.end      end position of the selection
     */
    var _getCaretInfo = function(element){
        var res = {
            text: '',
            start: 0,
            end: 0
        };

        if (!element.value) {
            /* no value or empty string */
            return res;
        }

        try {
            if (win.getSelection) {
                /* except IE */
                res.start = element.selectionStart;
                res.end = element.selectionEnd;
                res.text = element.value.slice(res.start, res.end);
            } else if (doc.selection) {
                /* for IE */
                element.focus();

                var range = doc.selection.createRange(),
                    range2 = doc.body.createTextRange();

                res.text = range.text;

                try {
                    range2.moveToElementText(element);
                    range2.setEndPoint('StartToStart', range);
                } catch (e) {
                    range2 = element.createTextRange();
                    range2.setEndPoint('StartToStart', range);
                }

                res.start = element.value.length - range2.text.length;
                res.end = res.start + range.text.length;
            }
        } catch (e) {
            /* give up */
        }

        return res;
    };

    /**
     * caret operation for the element
     * @type {Object}
     */
    var _CaretOperation = {
        /**
         * get caret position
         *
         * @param   {Element}   element         target element
         * @return  {Object}    return
         * @return  {Number}    return.start    start position for the selection
         * @return  {Number}    return.end      end position for the selection
         */
        getPos: function(element) {
            var tmp = _getCaretInfo(element);
            return {start: tmp.start, end: tmp.end};
        },

        /**
         * set caret position
         *
         * @param   {Element}   element         target element
         * @param   {Object}    toRange         caret position
         * @param   {Number}    toRange.start   start position for the selection
         * @param   {Number}    toRange.end     end position for the selection
         * @param   {String}    caret           caret mode: any of the following: "keep" | "start" | "end"
         */
        setPos: function(element, toRange, caret) {
            caret = this._caretMode(caret);

            if (caret === 'start') {
                toRange.end = toRange.start;
            } else if (caret === 'end') {
                toRange.start = toRange.end;
            }

            element.focus();
            try {
                if (element.createTextRange) {
                    var range = element.createTextRange();

                    if (win.navigator.userAgent.toLowerCase().indexOf("msie") >= 0) {
                        toRange.start = element.value.substr(0, toRange.start).replace(/\r/g, '').length;
                        toRange.end = element.value.substr(0, toRange.end).replace(/\r/g, '').length;
                    }

                    range.collapse(true);
                    range.moveStart('character', toRange.start);
                    range.moveEnd('character', toRange.end - toRange.start);

                    range.select();
                } else if (element.setSelectionRange) {
                    element.setSelectionRange(toRange.start, toRange.end);
                }
            } catch (e) {
                /* give up */
            }
        },

        /**
         * get selected text
         *
         * @param   {Element}   element         target element
         * @return  {String}    return          selected text
         */
        getText: function(element) {
            return _getCaretInfo(element).text;
        },

        /**
         * get caret mode
         *
         * @param   {String}    caret           caret mode
         * @return  {String}    return          any of the following: "keep" | "start" | "end"
         */
        _caretMode: function(caret) {
            caret = caret || "keep";
            if (caret === false) {
                caret = 'end';
            }

            switch (caret) {
                case 'keep':
                case 'start':
                case 'end':
                    break;

                default:
                    caret = 'keep';
            }

            return caret;
        },

        /**
         * replace selected text
         *
         * @param   {Element}   element         target element
         * @param   {String}    text            replacement text
         * @param   {String}    caret           caret mode: any of the following: "keep" | "start" | "end"
         */
        replace: function(element, text, caret) {
            var tmp = _getCaretInfo(element),
                orig = element.value,
                pos = $(element).scrollTop(),
                range = {start: tmp.start, end: tmp.start + text.length};

            element.value = orig.substr(0, tmp.start) + text + orig.substr(tmp.end);

            $(element).scrollTop(pos);
            this.setPos(element, range, caret);
        },

        /**
         * insert before the selected text
         *
         * @param   {Element}   element         target element
         * @param   {String}    text            insertion text
         * @param   {String}    caret           caret mode: any of the following: "keep" | "start" | "end"
         */
        insertBefore: function(element, text, caret) {
            var tmp = _getCaretInfo(element),
                orig = element.value,
                pos = $(element).scrollTop(),
                range = {start: tmp.start + text.length, end: tmp.end + text.length};

            element.value = orig.substr(0, tmp.start) + text + orig.substr(tmp.start);

            $(element).scrollTop(pos);
            this.setPos(element, range, caret);
        },

        /**
         * insert after the selected text
         *
         * @param   {Element}   element         target element
         * @param   {String}    text            insertion text
         * @param   {String}    caret           caret mode: any of the following: "keep" | "start" | "end"
         */
        insertAfter: function(element, text, caret) {
            var tmp = _getCaretInfo(element),
                orig = element.value,
                pos = $(element).scrollTop(),
                range = {start: tmp.start, end: tmp.end};

            element.value = orig.substr(0, tmp.end) + text + orig.substr(tmp.end);

            $(element).scrollTop(pos);
            this.setPos(element, range, caret);
        }
    };

    /* add jQuery.selection */
    $.extend({
        /**
         * get selected text on the window
         *
         * @param   {String}    mode            selection mode: any of the following: "text" | "html"
         * @return  {String}    return
         */
        selection: function(mode) {
            var getText = ((mode || 'text').toLowerCase() === 'text');

            try {
                if (win.getSelection) {
                    if (getText) {
                        // get text
                        return win.getSelection().toString();
                    } else {
                        // get html
                        var sel = win.getSelection(), range;

                        if (sel.getRangeAt) {
                            range = sel.getRangeAt(0);
                        } else {
                            range = doc.createRange();
                            range.setStart(sel.anchorNode, sel.anchorOffset);
                            range.setEnd(sel.focusNode, sel.focusOffset);
                        }

                        return $('<div></div>').append(range.cloneContents()).html();
                    }
                } else if (doc.selection) {
                    if (getText) {
                        // get text
                        return doc.selection.createRange().text;
                    } else {
                        // get html
                        return doc.selection.createRange().htmlText;
                    }
                }
            } catch (e) {
                /* give up */
            }

            return '';
        }
    });

    /* add selection */
    $.fn.extend({
        selection: function(mode, opts) {
            opts = opts || {};

            switch (mode) {
                /**
                 * selection('getPos')
                 * get caret position
                 *
                 * @return  {Object}    return
                 * @return  {Number}    return.start    start position for the selection
                 * @return  {Number}    return.end      end position for the selection
                 */
                case 'getPos':
                    return _CaretOperation.getPos(this[0]);

                /**
                 * selection('setPos', opts)
                 * set caret position
                 *
                 * @param   {Number}    opts.start      start position for the selection
                 * @param   {Number}    opts.end        end position for the selection
                 */
                case 'setPos':
                    return this.each(function() {
                        _CaretOperation.setPos(this, opts);
                    });

                /**
                 * selection('replace', opts)
                 * replace the selected text
                 *
                 * @param   {String}    opts.text            replacement text
                 * @param   {String}    opts.caret           caret mode: any of the following: "keep" | "start" | "end"
                 */
                case 'replace':
                    return this.each(function() {
                        _CaretOperation.replace(this, opts.text, opts.caret);
                    });

                /**
                 * selection('insert', opts)
                 * insert before/after the selected text
                 *
                 * @param   {String}    opts.text            insertion text
                 * @param   {String}    opts.caret           caret mode: any of the following: "keep" | "start" | "end"
                 * @param   {String}    opts.mode            insertion mode: any of the following: "before" | "after"
                 */
                case 'insert':
                    return this.each(function() {
                        if (opts.mode === 'before') {
                            _CaretOperation.insertBefore(this, opts.text, opts.caret);
                        } else {
                            _CaretOperation.insertAfter(this, opts.text, opts.caret);
                        }
                    });

                /**
                 * selection('get')
                 * get selected text
                 *
                 * @return  {String}    return
                 */
                case 'get':
                /* falls through */
                default:
                    return _CaretOperation.getText(this[0]);
            }

            return this;
        }
    });
})(jQuery, window, window.document);
        20200321005938                          Q2      Q2    Q2  / * ! 
   *   j Q u e r y . s e l e c t i o n   -   j Q u e r y   P l u g i n 
   * 
   *   C o p y r i g h t   ( c )   2 0 1 0 - 2 0 1 4   I W A S A K I   K o j i   ( @ m a d a p a j a ) . 
   *   h t t p : / / b l o g . m a d a p a j a . n e t / 
   *   U n d e r   T h e   M I T   L i c e n s e 
   * 
   *   P e r m i s s i o n   i s   h e r e b y   g r a n t e d ,   f r e e   o f   c h a r g e ,   t o   a n y   p e r s o n   o b t a i n i n g 
   *   a   c o p y   o f   t h i s   s o f t w a r e   a n d   a s s o c i a t e d   d o c u m e n t a t i o n   f i l e s   ( t h e 
   *   " S o f t w a r e " ) ,   t o   d e a l   i n   t h e   S o f t w a r e   w i t h o u t   r e s t r i c t i o n ,   i n c l u d i n g 
   *   w i t h o u t   l i m i t a t i o n   t h e   r i g h t s   t o   u s e ,   c o p y ,   m o d i f y ,   m e r g e ,   p u b l i s h , 
   *   d i s t r i b u t e ,   s u b l i c e n s e ,   a n d / o r   s e l l   c o p i e s   o f   t h e   S o f t w a r e ,   a n d   t o 
   *   p e r m i t   p e r s o n s   t o   w h o m   t h e   S o f t w a r e   i s   f u r n i s h e d   t o   d o   s o ,   s u b j e c t   t o 
   *   t h e   f o l l o w i n g   c o n d i t i o n s : 
   * 
   *   T h e   a b o v e   c o p y r i g h t   n o t i c e   a n d   t h i s   p e r m i s s i o n   n o t i c e   s h a l l   b e 
   *   i n c l u d e d   i n   a l l   c o p i e s   o r   s u b s t a n t i a l   p o r t i o n s   o f   t h e   S o f t w a r e . 
   * 
   *   T H E   S O F T W A R E   I S   P R O V I D E D   " A S   I S " ,   W I T H O U T   W A R R A N T Y   O F   A N Y   K I N D , 
   *   E X P R E S S   O R   I M P L I E D ,   I N C L U D I N G   B U T   N O T   L I M I T E D   T O   T H E   W A R R A N T I E S   O F 
   *   M E R C H A N T A B I L I T Y ,   F I T N E S S   F O R   A   P A R T I C U L A R   P U R P O S E   A N D 
   *   N O N I N F R I N G E M E N T .   I N   N O   E V E N T   S H A L L   T H E   A U T H O R S   O R   C O P Y R I G H T   H O L D E R S   B E 
   *   L I A B L E   F O R   A N Y   C L A I M ,   D A M A G E S   O R   O T H E R   L I A B I L I T Y ,   W H E T H E R   I N   A N   A C T I O N 
   *   O F   C O N T R A C T ,   T O R T   O R   O T H E R W I S E ,   A R I S I N G   F R O M ,   O U T   O F   O R   I N   C O N N E C T I O N 
   *   W I T H   T H E   S O F T W A R E   O R   T H E   U S E   O R   O T H E R   D E A L I N G S   I N   T H E   S O F T W A R E . 
   * / 
 ( f u n c t i o n ( $ ,   w i n ,   d o c )   { 
         / * * 
           *   g e t   c a r e t   s t a t u s   o f   t h e   s e l e c t i o n   o f   t h e   e l e m e n t 
           * 
           *   @ p a r a m       { E l e m e n t }       e l e m e n t                   t a r g e t   D O M   e l e m e n t 
           *   @ r e t u r n     { O b j e c t }         r e t u r n 
           *   @ r e t u r n     { S t r i n g }         r e t u r n . t e x t           s e l e c t e d   t e x t 
           *   @ r e t u r n     { N u m b e r }         r e t u r n . s t a r t         s t a r t   p o s i t i o n   o f   t h e   s e l e c t i o n 
           *   @ r e t u r n     { N u m b e r }         r e t u r n . e n d             e n d   p o s i t i o n   o f   t h e   s e l e c t i o n 
           * / 
         v a r   _ g e t C a r e t I n f o   =   f u n c t i o n ( e l e m e n t ) { 
                 v a r   r e s   =   { 
                         t e x t :   ' ' , 
                         s t a r t :   0 , 
                         e n d :   0 
                 } ; 
 
                 i f   ( ! e l e m e n t . v a l u e )   { 
                         / *   n o   v a l u e   o r   e m p t y   s t r i n g   * / 
                         r e t u r n   r e s ; 
                 } 
 
                 t r y   { 
                         i f   ( w i n . g e t S e l e c t i o n )   { 
                                 / *   e x c e p t   I E   * / 
                                 r e s . s t a r t   =   e l e m e n t . s e l e c t i o n S t a r t ; 
                                 r e s . e n d   =   e l e m e n t . s e l e c t i o n E n d ; 
                                 r e s . t e x t   =   e l e m e n t . v a l u e . s l i c e ( r e s . s t a r t ,   r e s . e n d ) ; 
                         }   e l s e   i f   ( d o c . s e l e c t i o n )   { 
                                 / *   f o r   I E   * / 
                                 e l e m e n t . f o c u s ( ) ; 
 
                                 v a r   r a n g e   =   d o c . s e l e c t i o n . c r e a t e R a n g e ( ) , 
                                         r a n g e 2   =   d o c . b o d y . c r e a t e T e x t R a n g e ( ) ; 
 
                                 r e s . t e x t   =   r a n g e . t e x t ; 
 
                                 t r y   { 
                                         r a n g e 2 . m o v e T o E l e m e n t T e x t ( e l e m e n t ) ; 
                                         r a n g e 2 . s e t E n d P o i n t ( ' S t a r t T o S t a r t ' ,   r a n g e ) ; 
                                 }   c a t c h   ( e )   { 
                                         r a n g e 2   =   e l e m e n t . c r e a t e T e x t R a n g e ( ) ; 
                                         r a n g e 2 . s e t E n d P o i n t ( ' S t a r t T o S t a r t ' ,   r a n g e ) ; 
                                 } 
 
                                 r e s . s t a r t   =   e l e m e n t . v a l u e . l e n g t h   -   r a n g e 2 . t e x t . l e n g t h ; 
                                 r e s . e n d   =   r e s . s t a r t   +   r a n g e . t e x t . l e n g t h ; 
                         } 
                 }   c a t c h   ( e )   { 
                         / *   g i v e   u p   * / 
                 } 
 
                 r e t u r n   r e s ; 
         } ; 
 
         / * * 
           *   c a r e t   o p e r a t i o n   f o r   t h e   e l e m e n t 
           *   @ t y p e   { O b j e c t } 
           * / 
         v a r   _ C a r e t O p e r a t i o n   =   { 
                 / * * 
                   *   g e t   c a r e t   p o s i t i o n 
                   * 
                   *   @ p a r a m       { E l e m e n t }       e l e m e n t                   t a r g e t   e l e m e n t 
                   *   @ r e t u r n     { O b j e c t }         r e t u r n 
                   *   @ r e t u r n     { N u m b e r }         r e t u r n . s t a r t         s t a r t   p o s i t i o n   f o r   t h e   s e l e c t i o n 
                   *   @ r e t u r n     { N u m b e r }         r e t u r n . e n d             e n d   p o s i t i o n   f o r   t h e   s e l e c t i o n 
                   * / 
                 g e t P o s :   f u n c t i o n ( e l e m e n t )   { 
                         v a r   t m p   =   _ g e t C a r e t I n f o ( e l e m e n t ) ; 
                         r e t u r n   { s t a r t :   t m p . s t a r t ,   e n d :   t m p . e n d } ; 
                 } , 
 
                 / * * 
                   *   s e t   c a r e t   p o s i t i o n 
                   * 
                   *   @ p a r a m       { E l e m e n t }       e l e m e n t                   t a r g e t   e l e m e n t 
                   *   @ p a r a m       { O b j e c t }         t o R a n g e                   c a r e t   p o s i t i o n 
                   *   @ p a r a m       { N u m b e r }         t o R a n g e . s t a r t       s t a r t   p o s i t i o n   f o r   t h e   s e l e c t i o n 
                   *   @ p a r a m       { N u m b e r }         t o R a n g e . e n d           e n d   p o s i t i o n   f o r   t h e   s e l e c t i o n 
                   *   @ p a r a m       { S t r i n g }         c a r e t                       c a r e t   m o d e :   a n y   o f   t h e   f o l l o w i n g :   " k e e p "   |   " s t a r t "   |   " e n d " 
                   * / 
                 s e t P o s :   f u n c t i o n ( e l e m e n t ,   t o R a n g e ,   c a r e t )   { 
                         c a r e t   =   t h i s . _ c a r e t M o d e ( c a r e t ) ; 
 
                         i f   ( c a r e t   = = =   ' s t a r t ' )   { 
                                 t o R a n g e . e n d   =   t o R a n g e . s t a r t ; 
                         }   e l s e   i f   ( c a r e t   = = =   ' e n d ' )   { 
                                 t o R a n g e . s t a r t   =   t o R a n g e . e n d ; 
                         } 
 
                         e l e m e n t . f o c u s ( ) ; 
                         t r y   { 
                                 i f   ( e l e m e n t . c r e a t e T e x t R a n g e )   { 
                                         v a r   r a n g e   =   e l e m e n t . c r e a t e T e x t R a n g e ( ) ; 
 
                                         i f   ( w i n . n a v i g a t o r . u s e r A g e n t . t o L o w e r C a s e ( ) . i n d e x O f ( " m s i e " )   > =   0 )   { 
                                                 t o R a n g e . s t a r t   =   e l e m e n t . v a l u e . s u b s t r ( 0 ,   t o R a n g e . s t a r t ) . r e p l a c e ( / \ r / g ,   ' ' ) . l e n g t h ; 
                                                 t o R a n g e . e n d   =   e l e m e n t . v a l u e . s u b s t r ( 0 ,   t o R a n g e . e n d ) . r e p l a c e ( / \ r / g ,   ' ' ) . l e n g t h ; 
                                         } 
 
                                         r a n g e . c o l l a p s e ( t r u e ) ; 
                                         r a n g e . m o v e S t a r t ( ' c h a r a c t e r ' ,   t o R a n g e . s t a r t ) ; 
                                         r a n g e . m o v e E n d ( ' c h a r a c t e r ' ,   t o R a n g e . e n d   -   t o R a n g e . s t a r t ) ; 
 
                                         r a n g e . s e l e c t ( ) ; 
                                 }   e l s e   i f   ( e l e m e n t . s e t S e l e c t i o n R a n g e )   { 
                                         e l e m e n t . s e t S e l e c t i o n R a n g e ( t o R a n g e . s t a r t ,   t o R a n g e . e n d ) ; 
                                 } 
                         }   c a t c h   ( e )   { 
                                 / *   g i v e   u p   * / 
                         } 
                 } , 
 
                 / * * 
                   *   g e t   s e l e c t e d   t e x t 
                   * 
                   *   @ p a r a m       { E l e m e n t }       e l e m e n t                   t a r g e t   e l e m e n t 
                   *   @ r e t u r n     { S t r i n g }         r e t u r n                     s e l e c t e d   t e x t 
                   * / 
                 g e t T e x t :   f u n c t i o n ( e l e m e n t )   { 
                         r e t u r n   _ g e t C a r e t I n f o ( e l e m e n t ) . t e x t ; 
                 } , 
 
                 / * * 
                   *   g e t   c a r e t   m o d e 
                   * 
                   *   @ p a r a m       { S t r i n g }         c a r e t                       c a r e t   m o d e 
                   *   @ r e t u r n     { S t r i n g }         r e t u r n                     a n y   o f   t h e   f o l l o w i n g :   " k e e p "   |   " s t a r t "   |   " e n d " 
                   * / 
                 _ c a r e t M o d e :   f u n c t i o n ( c a r e t )   { 
                         c a r e t   =   c a r e t   | |   " k e e p " ; 
                         i f   ( c a r e t   = = =   f a l s e )   { 
                                 c a r e t   =   ' e n d ' ; 
                         } 
 
                         s w i t c h   ( c a r e t )   { 
                                 c a s e   ' k e e p ' : 
                                 c a s e   ' s t a r t ' : 
                                 c a s e   ' e n d ' : 
                                         b r e a k ; 
 
                                 d e f a u l t : 
                                         c a r e t   =   ' k e e p ' ; 
                         } 
 
                         r e t u r n   c a r e t ; 
                 } , 
 
                 / * * 
                   *   r e p l a c e   s e l e c t e d   t e x t 
                   * 
                   *   @ p a r a m       { E l e m e n t }       e l e m e n t                   t a r g e t   e l e m e n t 
                   *   @ p a r a m       { S t r i n g }         t e x t                         r e p l a c e m e n t   t e x t 
                   *   @ p a r a m       { S t r i n g }         c a r e t                       c a r e t   m o d e :   a n y   o f   t h e   f o l l o w i n g :   " k e e p "   |   " s t a r t "   |   " e n d " 
                   * / 
                 r e p l a c e :   f u n c t i o n ( e l e m e n t ,   t e x t ,   c a r e t )   { 
                         v a r   t m p   =   _ g e t C a r e t I n f o ( e l e m e n t ) , 
                                 o r i g   =   e l e m e n t . v a l u e , 
                                 p o s   =   $ ( e l e m e n t ) . s c r o l l T o p ( ) , 
                                 r a n g e   =   { s t a r t :   t m p . s t a r t ,   e n d :   t m p . s t a r t   +   t e x t . l e n g t h } ; 
 
                         e l e m e n t . v a l u e   =   o r i g . s u b s t r ( 0 ,   t m p . s t a r t )   +   t e x t   +   o r i g . s u b s t r ( t m p . e n d ) ; 
 
                         $ ( e l e m e n t ) . s c r o l l T o p ( p o s ) ; 
                         t h i s . s e t P o s ( e l e m e n t ,   r a n g e ,   c a r e t ) ; 
                 } , 
 
                 / * * 
                   *   i n s e r t   b e f o r e   t h e   s e l e c t e d   t e x t 
                   * 
                   *   @ p a r a m       { E l e m e n t }       e l e m e n t                   t a r g e t   e l e m e n t 
                   *   @ p a r a m       { S t r i n g }         t e x t                         i n s e r t i o n   t e x t 
                   *   @ p a r a m       { S t r i n g }         c a r e t                       c a r e t   m o d e :   a n y   o f   t h e   f o l l o w i n g :   " k e e p "   |   " s t a r t "   |   " e n d " 
                   * / 
                 i n s e r t B e f o r e :   f u n c t i o n ( e l e m e n t ,   t e x t ,   c a r e t )   { 
                         v a r   t m p   =   _ g e t C a r e t I n f o ( e l e m e n t ) , 
                                 o r i g   =   e l e m e n t . v a l u e , 
                                 p o s   =   $ ( e l e m e n t ) . s c r o l l T o p ( ) , 
                                 r a n g e   =   { s t a r t :   t m p . s t a r t   +   t e x t . l e n g t h ,   e n d :   t m p . e n d   +   t e x t . l e n g t h } ; 
 
                         e l e m e n t . v a l u e   =   o r i g . s u b s t r ( 0 ,   t m p . s t a r t )   +   t e x t   +   o r i g . s u b s t r ( t m p . s t a r t ) ; 
 
                         $ ( e l e m e n t ) . s c r o l l T o p ( p o s ) ; 
                         t h i s . s e t P o s ( e l e m e n t ,   r a n g e ,   c a r e t ) ; 
                 } , 
 
                 / * * 
                   *   i n s e r t   a f t e r   t h e   s e l e c t e d   t e x t 
                   * 
                   *   @ p a r a m       { E l e m e n t }       e l e m e n t                   t a r g e t   e l e m e n t 
                   *   @ p a r a m       { S t r i n g }         t e x t                         i n s e r t i o n   t e x t 
                   *   @ p a r a m       { S t r i n g }         c a r e t                       c a r e t   m o d e :   a n y   o f   t h e   f o l l o w i n g :   " k e e p "   |   " s t a r t "   |   " e n d " 
                   * / 
                 i n s e r t A f t e r :   f u n c t i o n ( e l e m e n t ,   t e x t ,   c a r e t )   { 
                         v a r   t m p   =   _ g e t C a r e t I n f o ( e l e m e n t ) , 
                                 o r i g   =   e l e m e n t . v a l u e , 
                                 p o s   =   $ ( e l e m e n t ) . s c r o l l T o p ( ) , 
                                 r a n g e   =   { s t a r t :   t m p . s t a r t ,   e n d :   t m p . e n d } ; 
 
                         e l e m e n t . v a l u e   =   o r i g . s u b s t r ( 0 ,   t m p . e n d )   +   t e x t   +   o r i g . s u b s t r ( t m p . e n d ) ; 
 
                         $ ( e l e m e n t ) . s c r o l l T o p ( p o s ) ; 
                         t h i s . s e t P o s ( e l e m e n t ,   r a n g e ,   c a r e t ) ; 
                 } 
         } ; 
 
         / *   a d d   j Q u e r y . s e l e c t i o n   * / 
         $ . e x t e n d ( { 
                 / * * 
                   *   g e t   s e l e c t e d   t e x t   o n   t h e   w i n d o w 
                   * 
                   *   @ p a r a m       { S t r i n g }         m o d e                         s e l e c t i o n   m o d e :   a n y   o f   t h e   f o l l o w i n g :   " t e x t "   |   " h t m l " 
                   *   @ r e t u r n     { S t r i n g }         r e t u r n 
                   * / 
                 s e l e c t i o n :   f u n c t i o n ( m o d e )   { 
                         v a r   g e t T e x t   =   ( ( m o d e   | |   ' t e x t ' ) . t o L o w e r C a s e ( )   = = =   ' t e x t ' ) ; 
 
                         t r y   { 
                                 i f   ( w i n . g e t S e l e c t i o n )   { 
                                         i f   ( g e t T e x t )   { 
                                                 / /   g e t   t e x t 
                                                 r e t u r n   w i n . g e t S e l e c t i o n ( ) . t o S t r i n g ( ) ; 
                                         }   e l s e   { 
                                                 / /   g e t   h t m l 
                                                 v a r   s e l   =   w i n . g e t S e l e c t i o n ( ) ,   r a n g e ; 
 
                                                 i f   ( s e l . g e t R a n g e A t )   { 
                                                         r a n g e   =   s e l . g e t R a n g e A t ( 0 ) ; 
                                                 }   e l s e   { 
                                                         r a n g e   =   d o c . c r e a t e R a n g e ( ) ; 
                                                         r a n g e . s e t S t a r t ( s e l . a n c h o r N o d e ,   s e l . a n c h o r O f f s e t ) ; 
                                                         r a n g e . s e t E n d ( s e l . f o c u s N o d e ,   s e l . f o c u s O f f s e t ) ; 
                                                 } 
 
                                                 r e t u r n   $ ( ' < d i v > < / d i v > ' ) . a p p e n d ( r a n g e . c l o n e C o n t e n t s ( ) ) . h t m l ( ) ; 
                                         } 
                                 }   e l s e   i f   ( d o c . s e l e c t i o n )   { 
                                         i f   ( g e t T e x t )   { 
                                                 / /   g e t   t e x t 
                                                 r e t u r n   d o c . s e l e c t i o n . c r e a t e R a n g e ( ) . t e x t ; 
                                         }   e l s e   { 
                                                 / /   g e t   h t m l 
                                                 r e t u r n   d o c . s e l e c t i o n . c r e a t e R a n g e ( ) . h t m l T e x t ; 
                                         } 
                                 } 
                         }   c a t c h   ( e )   { 
                                 / *   g i v e   u p   * / 
                         } 
 
                         r e t u r n   ' ' ; 
                 } 
         } ) ; 
 
         / *   a d d   s e l e c t i o n   * / 
         $ . f n . e x t e n d ( { 
                 s e l e c t i o n :   f u n c t i o n ( m o d e ,   o p t s )   { 
                         o p t s   =   o p t s   | |   { } ; 
 
                         s w i t c h   ( m o d e )   { 
                                 / * * 
                                   *   s e l e c t i o n ( ' g e t P o s ' ) 
                                   *   g e t   c a r e t   p o s i t i o n 
                                   * 
                                   *   @ r e t u r n     { O b j e c t }         r e t u r n 
                                   *   @ r e t u r n     { N u m b e r }         r e t u r n . s t a r t         s t a r t   p o s i t i o n   f o r   t h e   s e l e c t i o n 
                                   *   @ r e t u r n     { N u m b e r }         r e t u r n . e n d             e n d   p o s i t i o n   f o r   t h e   s e l e c t i o n 
                                   * / 
                                 c a s e   ' g e t P o s ' : 
                                         r e t u r n   _ C a r e t O p e r a t i o n . g e t P o s ( t h i s [ 0 ] ) ; 
 
                                 / * * 
                                   *   s e l e c t i o n ( ' s e t P o s ' ,   o p t s ) 
                                   *   s e t   c a r e t   p o s i t i o n 
                                   * 
                                   *   @ p a r a m       { N u m b e r }         o p t s . s t a r t             s t a r t   p o s i t i o n   f o r   t h e   s e l e c t i o n 
                                   *   @ p a r a m       { N u m b e r }         o p t s . e n d                 e n d   p o s i t i o n   f o r   t h e   s e l e c t i o n 
                                   * / 
                                 c a s e   ' s e t P o s ' : 
                                         r e t u r n   t h i s . e a c h ( f u n c t i o n ( )   { 
                                                 _ C a r e t O p e r a t i o n . s e t P o s ( t h i s ,   o p t s ) ; 
                                         } ) ; 
 
                                 / * * 
                                   *   s e l e c t i o n ( ' r e p l a c e ' ,   o p t s ) 
                                   *   r e p l a c e   t h e   s e l e c t e d   t e x t 
                                   * 
                                   *   @ p a r a m       { S t r i n g }         o p t s . t e x t                         r e p l a c e m e n t   t e x t 
                                   *   @ p a r a m       { S t r i n g }         o p t s . c a r e t                       c a r e t   m o d e :   a n y   o f   t h e   f o l l o w i n g :   " k e e p "   |   " s t a r t "   |   " e n d " 
                                   * / 
                                 c a s e   ' r e p l a c e ' : 
                                         r e t u r n   t h i s . e a c h ( f u n c t i o n ( )   { 
                                                 _ C a r e t O p e r a t i o n . r e p l a c e ( t h i s ,   o p t s . t e x t ,   o p t s . c a r e t ) ; 
                                         } ) ; 
 
                                 / * * 
                                   *   s e l e c t i o n ( ' i n s e r t ' ,   o p t s ) 
                                   *   i n s e r t   b e f o r e / a f t e r   t h e   s e l e c t e d   t e x t 
                                   * 
                                   *   @ p a r a m       { S t r i n g }         o p t s . t e x t                         i n s e r t i o n   t e x t 
                                   *   @ p a r a m       { S t r i n g }         o p t s . c a r e t                       c a r e t   m o d e :   a n y   o f   t h e   f o l l o w i n g :   " k e e p "   |   " s t a r t "   |   " e n d " 
                                   *   @ p a r a m       { S t r i n g }         o p t s . m o d e                         i n s e r t i o n   m o d e :   a n y   o f   t h e   f o l l o w i n g :   " b e f o r e "   |   " a f t e r " 
                                   * / 
                                 c a s e   ' i n s e r t ' : 
                                         r e t u r n   t h i s . e a c h ( f u n c t i o n ( )   { 
                                                 i f   ( o p t s . m o d e   = = =   ' b e f o r e ' )   { 
                                                         _ C a r e t O p e r a t i o n . i n s e r t B e f o r e ( t h i s ,   o p t s . t e x t ,   o p t s . c a r e t ) ; 
                                                 }   e l s e   { 
                                                         _ C a r e t O p e r a t i o n . i n s e r t A f t e r ( t h i s ,   o p t s . t e x t ,   o p t s . c a r e t ) ; 
                                                 } 
                                         } ) ; 
 
                                 / * * 
                                   *   s e l e c t i o n ( ' g e t ' ) 
                                   *   g e t   s e l e c t e d   t e x t 
                                   * 
                                   *   @ r e t u r n     { S t r i n g }         r e t u r n 
                                   * / 
                                 c a s e   ' g e t ' : 
                                 / *   f a l l s   t h r o u g h   * / 
                                 d e f a u l t : 
                                         r e t u r n   _ C a r e t O p e r a t i o n . g e t T e x t ( t h i s [ 0 ] ) ; 
                         } 
 
                         r e t u r n   t h i s ; 
                 } 
         } ) ; 
 } ) ( j Q u e r y ,   w i n d o w ,   w i n d o w . d o c u m e n t ) ; 
   h       http://172.17.0.26:9090/static/vendor/js/jquery.selection.js?v=ecee9c8abfd118f139014cb1b174b08db3f342cf                       á!´!ˇˇˇˇ            ´+íHç!´!       C                         Ÿ  -2  —  -2                         å!´!ˇˇˇˇ      $   win   doc   _getCaretInfo   _CaretOperation        ´+íHç!´!          _getCaretInfoB ä  r  Ç  r  %           ˇˇˇˇ
        5ûç!´!          getPosB =  µ  5  µ  _          ˇˇˇˇ        5ûç!´!          setPosB ö  3  í  3  m         ˇˇˇˇ	        5ûç!´!          getTextB   Q    Q  ì          ˇˇˇˇ        5ûç!´!          _caretModeB G  ∆  ?  ∆  ù          ˇˇˇˇ        5ûç!´!          replaceB   ≠  	  ≠  ∑         ˇˇˇˇ        5ûç!´!          insertBeforeB   Ø  ˝  Ø            ˇˇˇˇ        5ûç!´!          insertAfterB   è   ˝  è   ›         ˇˇˇˇ        5ûé!´!       é!´!   getPosã!´!é!´!   setPosã!´!é!´!   getTextã!´!é!´!   _caretModeã!´!é!´!   replaceã!´!é!´!   insertBeforeã!´!é!´!   insertAfterã!´!    ç!´!          selectionB º!  &  ¥!  &  Ú          ˇˇˇˇ        5ûé!´!       é!´!   selectionã!´!    ç!´!          selectionB ?'  #2  7'  #2          ˇˇˇˇ       	   opts   B  ◊*  -+  œ*  -+  2  -      ˇˇˇˇ        5û   B  ⁄,  B-  “,  B-  >  -      ˇˇˇˇ        5û   B  m/  •0  e/  •0  K  -      ˇˇˇˇ        5û 5ûé!´!       é!´!   selectionã!´!    öò;¯
   †   v                       Ç    â   Q[   Ç   ]    Ç   ]   Ç   ]   Ç   ]   Ç   ]   Ç   ]   Ç   ]   â   Qà   ∏   
[
   Ç	   ]   Á Qà   5	   ∏   
[   Ç   ]   Á Qô®%ò∏∞À®Vò∏∞≠_ò ®mò ®Ä  ìò ®Ä  ùò ®Ä  ∑ò ®Ä   ò ®Ä  ›ò–®Ä  Îò∏∞—®Ä  Úò ®Ä  Îò∞¨Ä ò∏∞÷†ò ®Ä ò	∞¨Ä b∞    getPos   setPos   getText   _caretMode   replace   insertBefore   insertAfter   extend   selection   fn 5ûöò;¯                              Ç    ö    ö   ö   5   Á Qô®ò∏∞ÆÄ b‘ò∞§∞    jQuery   window   documentGËÊ„]ı      ^ø¢Û^ø°AÆ◊ã^»⁄]   h    :http://172.17.0.26:9090/static/vendor/js/jquery.selection.js?v=ecee9c8abfd118f139014cb1b174b08db3f342cf necko:classified 1 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Accept-Ranges: bytes
Content-Length: 12881
Content-Type: application/javascript
Last-Modified: Thu, 01 Jan 1970 00:00:01 GMT
Date: Sat, 16 May 2020 08:10:05 GMT
 original-response-headers Accept-Ranges: bytes
Content-Length: 12881
Content-Type: application/javascript
Last-Modified: Thu, 01 Jan 1970 00:00:01 GMT
Date: Sat, 16 May 2020 08:10:05 GMT
 ctid 2 uncompressed-len 0 net-response-time-onstart 165 net-response-time-onstop 165 alt-data 1;12881,javascript/moz-bytecode-20200321005938 alt-data-from-child 1   üQ